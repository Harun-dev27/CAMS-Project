<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Admin Dashboard</title>
    <link
      rel="icon"
      href="img/cropped-cropped-LOGO-1-300x126-1-32x32.png"
      type="icon/png"
    />
    <link rel="stylesheet" href="./css/style-admin.css" />
  </head>
  <body>
    <h1>Admin Dashboard</h1>

    <!-- User Management Section -->
    <section id="userManagement">
      <h2>User Management</h2>
      <form id="userForm" onsubmit="registerUser(event)">
        <label for="role">Role:</label>
        <select id="role" name="role" required onchange="showFields()">
          <option value="">Select Role</option>
          <option value="Student">Student</option>
          <option value="Trainer">Trainer</option>
          <option value="HOD">HOD</option>
          <option value="ClassRep">Class Rep</option>
        </select>

        <div id="commonFields" style="display: none">
          <label for="name">Name:</label>
          <input type="text" id="name" name="name" required />

          <label for="password">Password:</label>
          <input type="password" id="password" name="password" required />

          <label for="confirmPassword">Confirm Password:</label>
          <input
            type="password"
            id="confirmPassword"
            name="confirmPassword"
            required
          />
        </div>

        <div id="studentFields" style="display: none">
          <label for="studentRegistrationNumber">Registration Number:</label>
          <input
            type="text"
            id="studentRegistrationNumber"
            name="registrationNumber"
          />

          <label for="department">Department:</label>
          <select
            id="department"
            name="department"
            onchange="fetchCourses(this.value)"
          >
            <option value="">Select Department</option>
            <!-- Dynamically populated options -->
          </select>

          <label for="course">Course:</label>
          <select id="course" name="course">
            <option value="">Select Course</option>
          </select>

          <label for="class">Class:</label>
          <select id="class" name="class">
            <option value="">Select Class</option>
          </select>
        </div>

        <div id="classRepFields" style="display: none">
          <label for="classRepRegistrationNumber">Registration Number:</label>
          <input
            type="text"
            id="classRepRegistrationNumber"
            name="classRepRegistrationNumber"
          />

          <label for="classRepDepartment">Department:</label>
          <select
            id="classRepDepartment"
            name="classRepDepartment"
            onchange="initializeDropdowns('classRepDepartment', ['#classRepCourse'], ['#classRepClass'])"
          >
            <option value="">Select Department</option>
          </select>

          <label for="classRepCourse">Course:</label>
          <select id="classRepCourse" name="classRepCourse">
            <option value="">Select Course</option>
          </select>

          <label for="classRepClass">Class:</label>
          <select id="classRepClass" name="classRepClass">
            <option value="">Select Class</option>
          </select>
        </div>

        <div id="trainerHODFields" style="display: none">
          <label for="id_number">National ID Number:</label>
          <input type="text" id="id_number" name="id_number" />
        </div>

        <div id="successMessage" style="color: green; display: none"></div>
        <button type="submit">Add User</button>
      </form>
    </section>

    <!-- Department Management Section -->
    <button class="toggle-btn" onclick="toggleSection('departmentManagement')">
      Toggle Department Management
    </button>
    <section id="departmentManagement" style="display: none">
      <h2>Department Management</h2>
      <form id="departmentForm" onsubmit="addDepartment(event)">
        <label for="newDepartment">Department Name:</label>
        <input type="text" id="newDepartment" name="newDepartment" required />
        <button type="submit">Add Department</button>
      </form>
    </section>

    <!-- Course Management Section -->
    <button class="toggle-btn" onclick="toggleSection('courseManagement')">
      Toggle Course Management
    </button>
    <section id="courseManagement" style="display: none">
      <h2>Course Management</h2>
      <form id="courseForm" onsubmit="addCourse(event)">
        <label for="courseDepartment">Department:</label>
        <select id="courseDepartment" name="courseDepartment">
          <option value="">Select Department</option>
        </select>

        <label for="newCourse">Course Name:</label>
        <input type="text" id="newCourse" name="newCourse" required />
        <button type="submit">Add Course</button>
      </form>
    </section>

    <!-- Class Management Section -->
    <button class="toggle-btn" onclick="toggleSection('classManagement')">
      Toggle Class Management
    </button>
    <section id="classManagement" style="display: none">
      <h2>Class Management</h2>
      <form id="classForm" onsubmit="addClass(event)">
        <label for="classDepartment">Department:</label>
        <select id="classDepartment" name="classDepartment">
          <option value="">Select Department</option>
        </select>

        <label for="classCourse">Course:</label>
        <select id="classCourse" name="classCourse">
          <option value="">Select Course</option>
        </select>

        <label for="newClass">Class Name:</label>
        <input type="text" id="newClass" name="newClass" required />
        <button type="submit">Add Class</button>
      </form>
    </section>

    <!-- Unit Management Section -->
    <button class="toggle-btn" onclick="toggleSection('unitManagement')">
      Toggle Unit Management
    </button>
    <section id="unitManagement" style="display: none">
      <h2>Unit Management</h2>
      <form id="unitForm" onsubmit="addUnit(event)">
        <label for="unitDepartment">Department:</label>
        <select id="unitDepartment" name="unitDepartment">
          <option value="">Select Department</option>
        </select>

        <label for="unitCourse">Course:</label>
        <select id="unitCourse" name="unitCourse">
          <option value="">Select Course</option>
        </select>

        <label for="unitName">Unit Name:</label>
        <input type="text" id="unitName" name="unitName" required />

        <label for="unitCode">Unit Code:</label>
        <input type="text" id="unitCode" name="unitCode" required />
        <button type="submit">Add Unit</button>
      </form>
    </section>

    <!-- Registered Users Section -->
    <section id="userListSection">
      <h2>Registered Users</h2>
      <table id="userList">
        <thead>
          <tr>
            <th>Name</th>
            <th>Username</th>
            <th>Role</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- Dynamic content will be inserted here -->
        </tbody>
      </table>
    </section>

    <a href="log-in.html">Logout</a>
    <script src="./js/admin.js"></script>
  </body>
</html>
